(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[369],{6101:(e,t,n)=>{"use strict";n.d(t,{s:()=>s,t:()=>l});var r=n(12115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let n=!1,r=e.map(e=>{let r=a(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():a(e[t],null)}}}}function s(...e){return r.useCallback(l(...e),e)}},25731:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,AuthProvider:()=>i});var r=n(95155),a=n(12115),l=n(64983);let s=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[n,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{l.N.auth.getSession().then(e=>{var t;let{data:{session:n}}=e;i(n),c(null!==(t=null==n?void 0:n.user)&&void 0!==t?t:null)});let{data:{subscription:e}}=l.N.auth.onAuthStateChange((e,t)=>{var n;i(t),c(null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null)});return()=>e.unsubscribe()},[]),(0,r.jsx)(s.Provider,{value:{session:n,user:o},children:t})},o=()=>{let e=(0,a.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},34964:(e,t,n)=>{"use strict";n.d(t,{Xi:()=>o,j7:()=>i,tU:()=>s});var r=n(95155);n(12115);var a=n(84814),l=n(53999);function s(e){let{className:t,...n}=e;return(0,r.jsx)(a.bL,{"data-slot":"tabs",className:(0,l.cn)("flex flex-col gap-2",t),...n})}function i(e){let{className:t,...n}=e;return(0,r.jsx)(a.B8,{"data-slot":"tabs-list",className:(0,l.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...n})}function o(e){let{className:t,...n}=e;return(0,r.jsx)(a.l9,{"data-slot":"tabs-trigger",className:(0,l.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}},53999:(e,t,n)=>{"use strict";n.d(t,{cn:()=>l});var r=n(52596),a=n(39688);function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.QP)((0,r.$)(t))}},64494:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(95155),a=n(12115),l=n(64983),s=n(25731),i=n(88524),o=n(34964),c=n(97168);function d(){let{user:e}=(0,s.A)(),[t,n]=(0,a.useState)([]),[d,u]=(0,a.useState)(null),[v,h]=(0,a.useState)("asc"),[m,x]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),[b,g]=(0,a.useState)("All");(0,a.useEffect)(()=>{e&&(async()=>{let{data:t,error:r}=await l.N.from("Sweden_transactions_agregated_2025").select('\n            id,\n            created_at,\n            "Date",\n            "Description",\n            "Amount",\n            "Balance",\n            "Category",\n            "Responsable",\n            "Bank",\n            "Comment",\n            user_id,\n            source_table\n          ').eq("user_id",e.id);r?console.error("Error fetching transactions:",r):n(t)})()},[e]);let j=e=>{d===e?h("asc"===v?"desc":"asc"):(u(e),h("asc"))},y=t.filter(e=>"Handelsbanken"===e.Bank).filter(e=>{var t;let n=m.toLowerCase();return null===(t=e.Category)||void 0===t?void 0:t.toLowerCase().includes(n)}).filter(e=>{var t;let n=f.toLowerCase();return null===(t=e.Description)||void 0===t?void 0:t.toLowerCase().includes(n)}).filter(e=>"All"===b||!!e.Date&&new Date(e.Date).getMonth()===["Jan","Fev","Mar","Apr","Mai","Jun","Jul","Ago","Sep","Oct","Nov","Dez"].indexOf(b)),N=y.reduce((e,t)=>e+(t.Amount||0),0),A=[...y].sort((e,t)=>{var n,r;if(!d)return 0;let a=null!==(n=e[d])&&void 0!==n?n:"",l=null!==(r=t[d])&&void 0!==r?r:"";return"string"==typeof a&&"string"==typeof l?"asc"===v?a.localeCompare(l):l.localeCompare(a):"number"==typeof a&&"number"==typeof l?"asc"===v?a-l:l-a:0});return e?(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Handelsbanken Transactions"}),(0,r.jsx)("div",{className:"text-right mb-4",children:(0,r.jsx)(c.$,{onClick:()=>window.location.href="./chart",className:"px-4 py-2 text-white rounded-md hover:bg-gray-300",children:"Go to Chart Page"})}),(0,r.jsxs)("div",{className:"mt-4 text-right font-bold",children:["Total Amount: ",new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK"}).format(N)]}),(0,r.jsx)(o.tU,{defaultValue:"All",onValueChange:e=>g(e),className:"mb-4",children:(0,r.jsxs)(o.j7,{children:[(0,r.jsx)(o.Xi,{value:"All",children:"All"}),(0,r.jsx)(o.Xi,{value:"Jan",children:"Jan"}),(0,r.jsx)(o.Xi,{value:"Fev",children:"Fev"}),(0,r.jsx)(o.Xi,{value:"Mar",children:"Mar"}),(0,r.jsx)(o.Xi,{value:"Apr",children:"Apr"}),(0,r.jsx)(o.Xi,{value:"Mai",children:"Mai"}),(0,r.jsx)(o.Xi,{value:"Jun",children:"Jun"}),(0,r.jsx)(o.Xi,{value:"Jul",children:"Jul"}),(0,r.jsx)(o.Xi,{value:"Ago",children:"Ago"}),(0,r.jsx)(o.Xi,{value:"Sep",children:"Sep"}),(0,r.jsx)(o.Xi,{value:"Oct",children:"Oct"}),(0,r.jsx)(o.Xi,{value:"Nov",children:"Nov"}),(0,r.jsx)(o.Xi,{value:"Dez",children:"Dez"})]})}),(0,r.jsxs)("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Filter by Category",value:m,onChange:e=>x(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md"}),(0,r.jsx)("input",{type:"text",placeholder:"Filter by Description",value:f,onChange:e=>p(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,r.jsxs)(i.XI,{children:[(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsxs)(i.nd,{onClick:()=>j("id"),children:["ID ","id"===d&&("asc"===v?"↑":"↓")]}),(0,r.jsxs)(i.nd,{onClick:()=>j("Date"),children:["Date ","Date"===d&&("asc"===v?"↑":"↓")]}),(0,r.jsxs)(i.nd,{onClick:()=>j("Description"),children:["Description ","Description"===d&&("asc"===v?"↑":"↓")]}),(0,r.jsxs)(i.nd,{onClick:()=>j("Amount"),children:["Amount ","Amount"===d&&("asc"===v?"↑":"↓")]}),(0,r.jsxs)(i.nd,{onClick:()=>j("Balance"),children:["Balance ","Balance"===d&&("asc"===v?"↑":"↓")]}),(0,r.jsxs)(i.nd,{onClick:()=>j("Category"),children:["Category ","Category"===d&&("asc"===v?"↑":"↓")]}),(0,r.jsxs)(i.nd,{onClick:()=>j("Responsable"),children:["Responsable ","Responsable"===d&&("asc"===v?"↑":"↓")]}),(0,r.jsxs)(i.nd,{onClick:()=>j("Bank"),children:["Bank ","Bank"===d&&("asc"===v?"↑":"↓")]}),(0,r.jsxs)(i.nd,{onClick:()=>j("Comment"),children:["Comment ","Comment"===d&&("asc"===v?"↑":"↓")]})]})}),(0,r.jsx)(i.BF,{children:A.map(e=>(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nA,{children:e.id}),(0,r.jsx)(i.nA,{children:e.Date?new Date(e.Date).toLocaleDateString():"N/A"}),(0,r.jsx)(i.nA,{children:e.Description||"N/A"}),(0,r.jsx)(i.nA,{className:"text-right",children:null!==e.Amount?new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK"}).format(e.Amount):"N/A"}),(0,r.jsx)(i.nA,{children:null!==e.Balance?new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK"}).format(e.Balance):"N/A"}),(0,r.jsx)(i.nA,{children:e.Category||"N/A"}),(0,r.jsx)(i.nA,{children:e.Responsable||"N/A"}),(0,r.jsx)(i.nA,{children:e.Bank||"N/A"}),(0,r.jsx)(i.nA,{children:e.Comment||"N/A"})]},e.id))})]}),(0,r.jsxs)("div",{className:"mt-4 text-right font-bold",children:["Total Amount: ",new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK"}).format(N)]})]}):(0,r.jsx)("div",{className:"text-center mt-10",children:"Please log in to view your transactions."})}},64983:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});let r=(0,n(10851).UU)("https://hwrbwttovihldczdhrbu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3cmJ3dHRvdmlobGRjemRocmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk1NTU0NTksImV4cCI6MjA1NTEzMTQ1OX0.7jeVBmstA9tgCoFYlOsYBgCaW4hFmlelZGNOLZ8RCBw")},72247:(e,t,n)=>{Promise.resolve().then(n.bind(n,64494))},74466:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var r=n(52596);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=r.$,s=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return l(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(e=>{let t=null==n?void 0:n[e],r=null==i?void 0:i[e];if(null===t)return null;let l=a(t)||a(r);return s[e][l]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return l(e,o,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...c}[t]):({...i,...c})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}},88524:(e,t,n)=>{"use strict";n.d(t,{A0:()=>s,BF:()=>i,Hj:()=>o,XI:()=>l,nA:()=>d,nd:()=>c});var r=n(95155);n(12115);var a=n(53999);function l(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",t),...n})})}function s(e){let{className:t,...n}=e;return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",t),...n})}function i(e){let{className:t,...n}=e;return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",t),...n})}function o(e){let{className:t,...n}=e;return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...n})}function c(e){let{className:t,...n}=e;return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n})}function d(e){let{className:t,...n}=e;return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n})}},97168:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(95155);n(12115);var a=n(99708),l=n(74466),s=n(53999);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:n,size:l,asChild:o=!1,...c}=e,d=o?a.DX:"button";return(0,r.jsx)(d,{"data-slot":"button",className:(0,s.cn)(i({variant:n,size:l,className:t})),...c})}},99708:(e,t,n)=>{"use strict";n.d(t,{DX:()=>s});var r=n(12115),a=n(6101),l=n(95155),s=r.forwardRef((e,t)=>{let{children:n,...a}=e,s=r.Children.toArray(n),o=s.find(c);if(o){let e=o.props.children,n=s.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,l.jsx)(i,{...a,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,l.jsx)(i,{...a,ref:t,children:n})});s.displayName="Slot";var i=r.forwardRef((e,t)=>{let{children:n,...l}=e;if(r.isValidElement(n)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(n=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n),s=function(e,t){let n={...t};for(let r in t){let a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...e)=>{l(...e),a(...e)}:a&&(n[r]=a):"style"===r?n[r]={...a,...l}:"className"===r&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}(l,n.props);return n.type!==r.Fragment&&(s.ref=t?(0,a.t)(t,e):e),r.cloneElement(n,s)}return r.Children.count(n)>1?r.Children.only(null):null});i.displayName="SlotClone";var o=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function c(e){return r.isValidElement(e)&&e.type===o}}},e=>{var t=t=>e(e.s=t);e.O(0,[567,814,441,684,358],()=>t(72247)),_N_E=e.O()}]);