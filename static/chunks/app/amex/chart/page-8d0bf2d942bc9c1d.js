(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[587],{1426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(95155),s=r(12115),n=r(64983),o=r(25731),c=r(75610);function i(){let{user:e}=(0,o.A)(),[t,r]=(0,s.useState)([]),[i,l]=(0,s.useState)([]);return((0,s.useEffect)(()=>{e&&(async()=>{let{data:t,error:a}=await n.N.from("Sweden_transactions_agregated_2025").select("Category, Amount, Bank").eq("user_id",e.id).eq("Bank","American Express");a?console.error("Error fetching transactions:",a):r(t)})()},[e]),(0,s.useEffect)(()=>{l(Object.entries(t.reduce((e,t)=>(t.Category&&t.Amount&&(e[t.Category]=(e[t.Category]||0)+t.Amount),e),{})).map(e=>{let[t,r]=e;return{category:t,total:Math.abs(r)}}).filter(e=>"Invoice"!==e.category).sort((e,t)=>t.total-e.total))},[t]),e)?(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"pt-8 pb-8",children:(0,a.jsx)(c.R,{data:i,barColor:"hsl(var(--chart-1))",title:"Total Amount per Category",description:"Showing totals for American Express transactions"})})}):(0,a.jsx)("div",{className:"text-center mt-10",children:"Please log in to view the chart."})}},12899:(e,t,r)=>{Promise.resolve().then(r.bind(r,1426))}},e=>{var t=t=>e(e.s=t);e.O(0,[567,272,571,294,441,684,358],()=>t(12899)),_N_E=e.O()}]);