(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{22255:(e,t,a)=>{Promise.resolve().then(a.bind(a,90142))},90142:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(95155),s=a(12115),o=a(64983),n=a(25731),l=a(75610);function c(){let{user:e}=(0,n.A)(),[t,a]=(0,s.useState)([]),[c,i]=(0,s.useState)([]);return((0,s.useEffect)(()=>{e&&(async()=>{let{data:t,error:r}=await o.N.from("Sweden_transactions_agregated_2025").select("Category, Amount, Bank").eq("user_id",e.id);r?console.error("Error fetching transactions:",r):a(t)})()},[e]),(0,s.useEffect)(()=>{let e=t.reduce((e,t)=>(t.Category&&t.Amount&&(e[t.Category]=(e[t.Category]||0)+t.Amount),e),{}),a=Object.values(e).reduce((e,t)=>e+Math.abs(t),0),r=Object.entries(e).map(e=>{let[t,a]=e;return{category:t,total:Math.abs(a)}}).sort((e,t)=>e.total-t.total),s=0,o=[];for(let e of r)(s+e.total)/a<=.02?s+=e.total:o.push(e);s>0&&o.push({category:"Minor expenses (2%)",total:s}),i(o.filter(e=>!["Invoice","Salary","Cr\xe9dit card"].includes(e.category)).sort((e,t)=>t.total-e.total))},[t]),e)?(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"pt-8 pb-8",children:(0,r.jsx)(l.R,{data:c,barColor:"hsl(var(--chart-1))",title:"Total Amount per Category",description:"Showing totals for American Express, SJ Prio and Handelsbanken transactions"})})}):(0,r.jsx)("div",{className:"text-center mt-10",children:"Please log in to view the chart."})}}},e=>{var t=t=>e(e.s=t);e.O(0,[567,272,571,294,441,684,358],()=>t(22255)),_N_E=e.O()}]);