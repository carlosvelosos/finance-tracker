(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3999:(e,t,n)=>{"use strict";n.d(t,{cn:()=>l});var s=n(2596),a=n(9688);function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.QP)((0,s.$)(t))}},4983:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});let s=(0,n(851).UU)("https://hwrbwttovihldczdhrbu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3cmJ3dHRvdmlobGRjemRocmJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk1NTU0NTksImV4cCI6MjA1NTEzMTQ1OX0.7jeVBmstA9tgCoFYlOsYBgCaW4hFmlelZGNOLZ8RCBw")},5731:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,AuthProvider:()=>c});var s=n(5155),a=n(2115),l=n(4983);let r=(0,a.createContext)(void 0),c=e=>{let{children:t}=e,[n,c]=(0,a.useState)(null),[o,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{l.N.auth.getSession().then(e=>{var t;let{data:{session:n}}=e;c(n),i(null!==(t=null==n?void 0:n.user)&&void 0!==t?t:null)});let{data:{subscription:e}}=l.N.auth.onAuthStateChange((e,t)=>{var n;c(t),i(null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null)});return()=>e.unsubscribe()},[]),(0,s.jsx)(r.Provider,{value:{session:n,user:o},children:t})},o=()=>{let e=(0,a.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6832:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var s=n(5155),a=n(2115),l=n(4983),r=n(5731),c=n(3999);function o(e){let{className:t,...n}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",t),...n})})}function i(e){let{className:t,...n}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",t),...n})}function d(e){let{className:t,...n}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",t),...n})}function u(e){let{className:t,...n}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...n})}function h(e){let{className:t,...n}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n})}function m(e){let{className:t,...n}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n})}function x(){let{user:e}=(0,r.A)(),[t,n]=(0,a.useState)([]),[c,x]=(0,a.useState)(null),[b,j]=(0,a.useState)("asc");(0,a.useEffect)(()=>{e&&(async()=>{let{data:t,error:s}=await l.N.from("Sweden_transactions_agregated_2025").select('\n            id,\n            created_at,\n            "Date",\n            "Description",\n            "Amount",\n            "Balance",\n            "Category",\n            "Responsable",\n            "Bank",\n            "Comment",\n            user_id,\n            source_table\n          ').eq("user_id",e.id);s?console.error("Error fetching transactions:",s):n(t)})()},[e]);let p=e=>{c===e?j("asc"===b?"desc":"asc"):(x(e),j("asc"))},C=[...t].sort((e,t)=>{var n,s;if(!c)return 0;let a=null!==(n=e[c])&&void 0!==n?n:"",l=null!==(s=t[c])&&void 0!==s?s:"";return"string"==typeof a&&"string"==typeof l?"asc"===b?a.localeCompare(l):l.localeCompare(a):"number"==typeof a&&"number"==typeof l?"asc"===b?a-l:l-a:0});return e?(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Your Transactions"}),(0,s.jsxs)(o,{children:[(0,s.jsx)(i,{children:(0,s.jsxs)(u,{children:[(0,s.jsxs)(h,{onClick:()=>p("id"),children:["ID ","id"===c&&("asc"===b?"↑":"↓")]}),(0,s.jsxs)(h,{onClick:()=>p("Date"),children:["Date ","Date"===c&&("asc"===b?"↑":"↓")]}),(0,s.jsxs)(h,{onClick:()=>p("Description"),children:["Description ","Description"===c&&("asc"===b?"↑":"↓")]}),(0,s.jsxs)(h,{onClick:()=>p("Amount"),children:["Amount ","Amount"===c&&("asc"===b?"↑":"↓")]}),(0,s.jsxs)(h,{onClick:()=>p("Balance"),children:["Balance ","Balance"===c&&("asc"===b?"↑":"↓")]}),(0,s.jsxs)(h,{onClick:()=>p("Category"),children:["Category ","Category"===c&&("asc"===b?"↑":"↓")]}),(0,s.jsxs)(h,{onClick:()=>p("Responsable"),children:["Responsable ","Responsable"===c&&("asc"===b?"↑":"↓")]}),(0,s.jsxs)(h,{onClick:()=>p("Bank"),children:["Bank ","Bank"===c&&("asc"===b?"↑":"↓")]}),(0,s.jsxs)(h,{onClick:()=>p("Comment"),children:["Comment ","Comment"===c&&("asc"===b?"↑":"↓")]})]})}),(0,s.jsx)(d,{children:C.map(e=>(0,s.jsxs)(u,{children:[(0,s.jsx)(m,{children:e.id}),(0,s.jsx)(m,{children:e.Date?new Date(e.Date).toLocaleDateString():"N/A"}),(0,s.jsx)(m,{children:e.Description||"N/A"}),(0,s.jsx)(m,{children:null!==e.Amount?"$".concat(e.Amount.toFixed(2)):"N/A"}),(0,s.jsx)(m,{children:null!==e.Balance?"$".concat(e.Balance.toFixed(2)):"N/A"}),(0,s.jsx)(m,{children:e.Category||"N/A"}),(0,s.jsx)(m,{children:e.Responsable||"N/A"}),(0,s.jsx)(m,{children:e.Bank||"N/A"}),(0,s.jsx)(m,{children:e.Comment||"N/A"})]},e.id))})]})]}):(0,s.jsx)("div",{className:"text-center mt-10",children:"Please log in to view your transactions."})}},7708:(e,t,n)=>{Promise.resolve().then(n.bind(n,6832))}},e=>{var t=t=>e(e.s=t);e.O(0,[567,441,684,358],()=>t(7708)),_N_E=e.O()}]);